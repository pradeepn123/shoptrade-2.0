<script>
    document.addEventListener('DOMContentLoaded', () => {
        let aboutCulterTop = new Swiper('.rm-slider', {
            spaceBetween: 20,
            speed: 2000,
            slidesPerView: 2,
            centeredSlides: true,
            pauseOnMouseEnter:true,
            stopOnLastSlide: true,
            loop: true,
            navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev'
            },
            pagination: {
                el: '.swiper-pagination',
                clickable: true,
            },
            breakpoints: {
                767: {
                    spaceBetween: 10,
                },
                480: {
                    spaceBetween: 10,
                    slidesPerView: 1,
                }
            }
        });
    })
</script>

{% style %}
.reM{
    margin-top: {{ section.settings.desktop_margin }}px;
    margin-bottom: {{ section.settings.desktop_margin }}px;
}
@media screen and (max-width: 480px){
    .reM{
        margin-top: {{ section.settings.mobile_margin }}px !important;
        margin-bottom: {{ section.settings.mobile_margin }}px !important;
    }
}
{% endstyle %}

<div class="reM">
    <div class="reM_container">
        <div class="reM_parent">
            <div class="swiper-container rm-slider">
                    <div class="swiper-wrapper">
                    {% for block in section.blocks %}
                        <div class="swiper-slide">
                            <div class="swiper-slide__wrapper">
                                <p class="reM_block1">{{ block.settings.heading }}</p>
                                <div class="rem_block_reviewers">
                                    <p class="reM_block2">{{ block.settings.block_heading }}</p>
                                    <p class="reM_block3">{{ block.settings.pos_heading }}</p>
                                </div>
                            </div>
                        </div>
                    {%- endfor -%}
                </div>
                    <div class="swiper-button-prev"></div>
                    <div class="swiper-button-next"></div>
            </div>
        </div>
    </div>
    <div class="swiper-pagination reM_pagination"></div>
</div>

{% schema %}
    {
        "name": "Review Marquee",
        "settings": [
            {
                "type": "text",
                "id": "heading",
                "label": "Heading"
            },
            {
                "type": "range",
                "id": "desktop_margin",
                "min": 1,
                "max": 100,
                "step": 1,
                "unit": "px",
                "label": "Desktop Margin",
                "default": 75
            },
            {
                "type": "range",
                "id": "mobile_margin",
                "min": 1,
                "max": 100,
                "step": 1,
                "unit": "px",
                "label": "Mobile Margin",
                "default": 48
            }
        ],
        "blocks": [
            {
                "type": "Block",
                "name": "Block",
                "settings": [
                    {
                        "type":"text",
                        "id":"heading",
                        "label":"Review"
                    },
                    {
                        "type": "text",
                        "id": "block_heading",
                        "label": "Reviewer"
                    },
                    {
                        "type": "text",
                        "id": "pos_heading",
                        "label": "Reviewer Position"
                    }
                ]
            }
        ],
        "presets": [
            {
                "name": "Review Marquee"
            }
        ]
    }
{% endschema %}