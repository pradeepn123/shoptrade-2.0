{% style %}
    {% comment %} This is for Full Width Border {% endcomment %}
    {% if section.settings.top_full_width_border %}
        #shopify-section-{{ section.id }} .accordion_image_container{
            border-top: 1px solid #000;
        }
    {% endif %}
    
    {% if section.settings.bottom_full_width_border %}
        #shopify-section-{{ section.id }} .accordion_image_container{
            border-bottom: 1px solid #000;
        }
    {% endif %}

    {% comment %} This is for Half Width Border {% endcomment %}
    {% if section.settings.border_top %}
        #shopify-section-{{ section.id }} .accordion_image_container .accordion_image_heading{
            border-top: 1px solid #000;
        }
    {% endif %}
    {% if section.settings.border_bottom %}
        #shopify-section-{{ section.id }} .accordion_image_container .accordion_image_heading{
            border-bottom: 1px solid #000;
        }
    {% endif %}
{% endstyle %}

<div class="accordion_image_container {{ section.id }} {% if section.settings.no_border_bottom_blocks %}no_border_bottom_for_blocks{%endif%}">
    <div class="container">
        <div class="accordion_image_content">
            <div class="accordion_image_heading">
                <span>{% render 'plus-icon' %}</span>
                <span>{{ section.settings.heading }}</span>
            </div>
            <div class="accordion_image_blocks">
                {% for block in section.blocks %}
                    <div class="accordion_image_block_inner {% if block.settings.image == null %}hide_in_mobile_layout{% endif %}">
                        {% if block.settings.image != null %}
                            <img src="{{ block.settings.image | image_url }}" alt="">
                        {% endif %}
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>

{% schema %}
{
    "name": "Accordion with Images",
    "settings": [
        {
            "type": "header",
            "content": "Container Settings"
        },
        {
            "type": "checkbox",
            "id": "top_full_width_border",
            "label": "Top Full Width Border"
        },
        {
            "type": "checkbox",
            "id": "bottom_full_width_border",
            "label": "Bottom Full Width Border"
        },
        {
            "type": "header",
            "content": "Content Settings"
        },
        {
            "type": "text",
            "id": "heading",
            "label": "Heading"
        },
        {
            "type": "checkbox",
            "id": "border_top",
            "label": "Border Top"
        },
        {
            "type": "checkbox",
            "id": "border_bottom",
            "label": "Border Bottom"
        },
        {
            "type": "header",
            "content": "Block Settings"
        },
        {
            "type": "checkbox",
            "id": "no_border_bottom_blocks",
            "label": "Have no Border Bottom if Blocks are only 1 row"
        }
    ],
    "blocks": [
        {
            "name":"Image",
            "type":"image",
            "settings": [
                {
                    "id":"image",
                    "label":"Image",
                    "type":"image_picker"
                }
            ]
        }
    ],
    "presets": [
        {
            "name": "Accordion with Images"
        }
    ]
}
{% endschema %}